(this.webpackJsonppwa=this.webpackJsonppwa||[]).push([[0],{59:function(e,t,n){},61:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r,i=n(0),a=n.n(i),o=n(8),s=n.n(o),c=(n(59),n(32)),u=n(12),l=n(24),d=n.n(l),p=n.p+"static/media/logo.6ce24c58.svg",f=(n(61),n(34)),v=n(20);window.deferredInstallPrompt=null,window.addEventListener("beforeinstallprompt",(function(e){alert("beforeinstallprompt ".concat(j.print(e))),e.preventDefault(),window.deferredInstallPrompt=e})),window.addEventListener("appinstalled",(function(){alert("appinstalled"),window.deferredInstallPrompt=null})),function(e){e.Edge="Edge",e.Opera="Opera",e.SamsungInternet="Samsung Internet",e.Chrome="Chrome",e.Vivaldi="Vivaldi",e.Yandex="Yandex",e.Firefox="Firefox",e.Safari="Safari",e.InternetExplorer="Internet Explorer",e.Unknown="Unknown"}(r||(r={}));var j=function(){function e(){Object(f.a)(this,e)}return Object(v.a)(e,null,[{key:"isValueMissing",value:function(e){return void 0===e||null===e}},{key:"getNativeInstallPrompt",value:function(){return window.deferredInstallPrompt}},{key:"showNativeInstallPromptIfExists",value:function(){var t=Object(c.a)(d.a.mark((function t(){var n,r,i,a,o=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>0&&void 0!==o[0]&&o[0],r=this.getNativeInstallPrompt(),alert("Install prompt: ".concat(e.print(r))),!this.isValueMissing(r)){t.next=5;break}return t.abrupt("return");case 5:return r.prompt(),t.next=8,r.userChoice;case 8:i=t.sent,a=i.outcome,n&&alert("Install outcome: ".concat(e.print(a))),window.deferredInstallPrompt=null;case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"isDesktop",value:function(){return window.matchMedia("(hover: hover) and (pointer: fine)").matches}},{key:"isChromium",value:function(){var e,t;return Boolean(window.chrome||(null!==(e=null===(t=navigator.userAgentData)||void 0===t?void 0:t.brands)&&void 0!==e?e:[]).some((function(e){return"Google Chrome"===e.brand})))}},{key:"isIos",value:function(){return Boolean(/iPad|iPhone|iPod/i.test(window.navigator.userAgent))}},{key:"isIpad",value:function(){return Boolean(/iPad/i.test(window.navigator.userAgent))}},{key:"isIphone",value:function(){return Boolean(/iPhone|iPod/i.test(window.navigator.userAgent))}},{key:"isAndroid",value:function(){return Boolean(/Android/i.test(window.navigator.userAgent))}},{key:"isSamsung",value:function(){return Boolean(/SAMSUNG|Samsung|SGH-[I|N|T]|GT-[I|N]|SM-[A|N|P|T|Z]|SHV-E|SCH-[I|J|R|S]|SPH-L/i.test(window.navigator.userAgent))}},{key:"getBrowserName",value:function(){var e=window.navigator.userAgent,t=window.navigator.vendor;switch(!0){case/Edge|Edg|EdgiOS/i.test(e):return r.Edge;case/OPR|Opera/i.test(e)&&Boolean(window.opr):return r.Opera;case/SamsungBrowser/i.test(e):return r.SamsungInternet;case/CriOS/i.test(e):case/Chrome/i.test(e)&&"Google Inc."===t&&this.isChromium():return r.Chrome;case/Vivaldi/i.test(e):return r.Vivaldi;case/YaBrowser/i.test(e):return r.Yandex;case/Firefox|FxiOS/i.test(e):return r.Firefox;case/Safari/i.test(e):return r.Safari;case/MSIE|Trident|IEMobile|WPDesktop/i.test(e):return r.InternetExplorer;default:return r.Unknown}}},{key:"format",value:function(e,t){return e.replace(/%(\d+)/g,(function(e,n){var r;return String(null!==(r=null===t||void 0===t?void 0:t[+n])&&void 0!==r?r:"")}))}},{key:"print",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(r>=3)return"";switch(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name){case"String":return this.format('"%0"',[e]);case"Number":case"boolean":case void 0:return String(e);case"Array":return this.format("[%0]",[e.map((function(e){return n.print(e,r+1)})).join(", ")]);case"Set":var i=Array.from(e).map((function(e){return n.print(e,r+1)})).join(", ");return this.format("{%0}",[i]);default:if(e===window||e===document)return"";var a=Object.keys(e).map((function(t){return n.format("%0: %1",[n.print(t,r+1),n.print(e[t],r+1)])})).join(", ");return this.format("{%0}",[a])}}}]),e}(),m=j,b=n(16),g=n(3);var w=function(e){var t=e.defaultData,n=e.getShouldShowAdvert,r=e.getAdvert,a=e.getGuidancePrompt,o=e.forceShowAdvert,s=void 0!==o&&o,c=function(e,t){var n=Object(i.useMemo)((function(){var t=localStorage.getItem("AddToHomeScreen");if(m.isValueMissing(t))return e;try{var n=JSON.parse(t);return n.version!==e.version?e:Object(b.a)(Object(b.a)({},e),n)}catch(r){return e}}),[]),r=Object(i.useMemo)((function(){return t(n)?[!0,!1]:[t(Object(b.a)(Object(b.a)({},n),{},{pageVisits:n.pageVisits+1})),!0]}),[t,n]),a=Object(u.a)(r,2),o=a[0],s=a[1],c=Object(i.useState)(Object(b.a)(Object(b.a)({},n),{},{pageVisits:n.pageVisits+(s?1:0)})),l=Object(u.a)(c,2),d=l[0],p=l[1];return Object(i.useEffect)((function(){console.log("AddToHomeScreen",d),alert(m.print(d)),localStorage.setItem("AddToHomeScreen",JSON.stringify(d))}),[d]),[d,p,o]}(t,n),l=Object(u.a)(c,3),d=l[0],p=l[1],f=l[2],v=Object(i.useState)(void 0),j=Object(u.a)(v,2),w=j[0],h=j[1],O=Object(i.useCallback)((function(){E(!1)}),[]),x=Object(i.useMemo)((function(){return a(O)}),[a,O]),S=Object(i.useState)(!1),I=Object(u.a)(S,2),k=I[0],C=I[1];Object(i.useEffect)((function(){setTimeout((function(){var e=m.getNativeInstallPrompt();h(e);var t=!m.isValueMissing(e),n=!m.isValueMissing(x),r=!m.isDesktop()&&(t||n);C(r)}),1e3)}));var y=Object(i.useState)(!1),A=Object(u.a)(y,2),P=A[0],E=A[1],N=Object(i.useCallback)((function(){m.isValueMissing(w)?E(!0):m.showNativeInstallPromptIfExists(),p(Object(b.a)(Object(b.a)({},d),{},{dismissCount:d.dismissCount+1}))}),[d,p,w]),V=Object(i.useCallback)((function(){p(Object(b.a)(Object(b.a)({},d),{},{dismissCount:d.dismissCount+1}))}),[d,p]);return Object(g.jsxs)(g.Fragment,{children:[(k&&f||s)&&r(N,V),k&&P&&x]})},h=n(85),O=n(88),x=n(89),S=n(48),I=n.n(S),k=n(37),C=n.n(k);var y=function(){var e,t,n={isDesktop:m.isDesktop(),isChromium:m.isChromium(),isIpad:m.isIpad(),isIphone:m.isIphone(),isAndroid:m.isAndroid(),isSamsung:m.isSamsung()},i=new Set(Object.entries(n).filter((function(e){var t=Object(u.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(u.a)(e,2),n=t[0];t[1];return n})));return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("header",{className:"App-header",children:[Object(g.jsx)("img",{src:p,className:"App-logo",alt:"logo"}),Object(g.jsxs)("p",{children:["Version ",6,", ",m.getBrowserName()," ",m.print(i)," ",Object(g.jsx)("br",{}),"window.chrome: ",m.print(Boolean(window.chrome))," ",Object(g.jsx)("br",{}),"window.opr: ",m.print(Boolean(window.opr))," ",Object(g.jsx)("br",{}),"brands: ",m.print((null!==(e=null===(t=navigator.userAgentData)||void 0===t?void 0:t.brands)&&void 0!==e?e:[]).map((function(e){return e.brand})))," ",Object(g.jsx)("br",{}),"vendor: ",m.print(window.navigator.vendor)," ",Object(g.jsx)("br",{}),"userAgent: ",m.print(window.navigator.userAgent)," ",Object(g.jsx)("br",{})]}),Object(g.jsxs)("div",{style:{display:"flex",gap:8},children:[Object(g.jsx)(h.a,{variant:"contained",color:"primary",onClick:Object(c.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.showNativeInstallPromptIfExists(!0);case 1:case"end":return e.stop()}}),e)}))),children:"Install"}),Object(g.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){window.location.href=window.location.href},children:"Reload page"})]})]}),Object(g.jsx)(w,{defaultData:{pageVisits:0,dismissCount:0,version:6},getShouldShowAdvert:function(e){return!(e.dismissCount>=20)&&e.pageVisits>=Math.pow(3,e.dismissCount+1)},getAdvert:function(e,t){return Object(g.jsxs)("div",{style:{boxSizing:"border-box",position:"fixed",bottom:0,width:"100%",display:"flex",justifyContent:"space-between",padding:"8px 4px 8px 20px",background:"#fff"},children:[Object(g.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[Object(g.jsx)(I.a,{}),Object(g.jsx)(h.a,{onClick:e,children:"P\u0159idat aplikaci pwa na plochu"})]}),Object(g.jsx)(O.a,{onClick:t,children:Object(g.jsx)(C.a,{})})]})},getGuidancePrompt:function(e){if(!m.isIos())switch(m.getBrowserName()){case r.Firefox:return Object(g.jsxs)(x.a,{open:!0,children:["Firefox guidance prompt",Object(g.jsx)(O.a,{onClick:e,children:Object(g.jsx)(C.a,{})})]});case r.Opera:return Object(g.jsxs)(x.a,{open:!0,children:["Opera guidance prompt",Object(g.jsx)(O.a,{onClick:e,children:Object(g.jsx)(C.a,{})})]});default:return}}})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root")),A()}},[[67,1,2]]]);
//# sourceMappingURL=main.d49538e1.chunk.js.map